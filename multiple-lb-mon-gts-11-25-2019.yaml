name: multiple-lb-mon-gts-11-25-2019
namespace: com.citrix.adc.stylebooks
version: "1.0"
display-name: "HTTP/SSL Content Switched Application with Monitors"
description: "This StyleBook defines a typical HTTP or SSL Content Switched Application configuration with monitors."
schema-version: "1.0"
import-stylebooks: 
  - 
    namespace: netscaler.nitro.config
    prefix: ns
    version: "10.5"
  - 
    namespace: com.citrix.adc.stylebooks
    prefix: stlb
    version: "1.0"
  - 
    namespace: com.citrix.adc.commontypes
    prefix: cmtypes
    version: "1.0"
parameters: 
  - 
    name: default-lb-pool
    label: "Content Switched App Default Server Pool"
    description: "Details of the Default pool for this application."
    type: object
    parameters-default-sources:
      - stlb::lb-mon-full-gts-11-25-2019
  - 
    name: lb-pool
    label: "Pool Details"
    description: "Name of additional server pool"
    type: object
    required: true
    gui: 
      summary_display: true
      collapse_pane: false
    parameters-default-sources:
      - stlb::lb-mon-full-gts-11-25-2019
components: 
  - 
    name: default-lb-mon-comp
    condition: $parameters.default-lb-pool
    type: stlb::lb-mon-full-gts-11-25-2019
    description: "This component is used to generate the only LB Vserver for this config when there are no L7 rules supplied (no Content Switching)."
    properties-default-sources:
      - $parameters.default-lb-pool
    properties: 
      appname: $parameters.default-lb-pool.appname + "-lb-default"
  - 
    name: lb-mon-comps
    type: stlb::lb-mon-full-gts-11-25-2019
    condition: $parameters.lb-pool
    description: "This list of components are used to generate LB Vservers for all the pools used in Content Switching (L7 rules supplied in parameters)"
    repeat: $parameters.lb-pool
    repeat-item: pool
    properties-default-sources:
      - $pool
    properties: 
      appname: $pool.appname
outputs:   
  -
    name: default-lbvserver
    condition: $parameters.default-lb-pool
    value: $components.default-lb-mon-comp.outputs.lbvserver
    description: "The default LBvserver component"